apiVersion: v1
kind: Service
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"grafana","component":"core"},"name":"grafana","namespace":"monitoring"},"spec":{"ports":[{"port":3000}],"selector":{"app":"grafana","component":"core"},"type":"NodePort"}}
  labels:
    app: grafana
    component: core
  name: grafana
  namespace: monitoring
spec:
  clusterIP: 10.110.109.150
  externalTrafficPolicy: Cluster
  ports:
  - nodePort: 30541
    port: 3000
    protocol: TCP
    targetPort: 3000
  selector:
    app: grafana
    component: core
  sessionAffinity: None
  type: NodePort
---
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    deployment.kubernetes.io/revision: "1"
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"extensions/v1beta1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"grafana","component":"core"},"name":"grafana-core","namespace":"monitoring"},"spec":{"replicas":1,"template":{"metadata":{"labels":{"app":"grafana","component":"core"}},"spec":{"containers":[{"env":[{"name":"GF_AUTH_BASIC_ENABLED","value":"true"},{"name":"GF_SECURITY_ADMIN_USER","valueFrom":{"secretKeyRef":{"key":"admin-username","name":"grafana"}}},{"name":"GF_SECURITY_ADMIN_PASSWORD","valueFrom":{"secretKeyRef":{"key":"admin-password","name":"grafana"}}},{"name":"GF_AUTH_ANONYMOUS_ENABLED","value":"false"}],"image":"grafana/grafana:4.2.0","imagePullPolicy":"IfNotPresent","name":"grafana-core","readinessProbe":{"httpGet":{"path":"/login","port":3000}},"resources":{"limits":{"cpu":"100m","memory":"100Mi"},"requests":{"cpu":"100m","memory":"100Mi"}},"volumeMounts":[{"mountPath":"/var/lib/grafana","name":"grafana-persistent-storage"}]}],"volumes":[{"emptyDir":{},"name":"grafana-persistent-storage"}]}}}}
  labels:
    app: grafana
    component: core
  name: grafana-core
  namespace: monitoring
spec:
  progressDeadlineSeconds: 600
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app: grafana
      component: core
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 1
    type: RollingUpdate
  template:
    metadata:
      labels:
        app: grafana
        component: core
    spec:
      containers:
      - env:
        - name: GF_AUTH_BASIC_ENABLED
          value: "true"
        - name: GF_SECURITY_ADMIN_USER
          valueFrom:
            secretKeyRef:
              key: admin-username
              name: grafana
        - name: GF_SECURITY_ADMIN_PASSWORD
          valueFrom:
            secretKeyRef:
              key: admin-password
              name: grafana
        - name: GF_AUTH_ANONYMOUS_ENABLED
          value: "false"
        image: grafana/grafana:4.2.0
        imagePullPolicy: IfNotPresent
        name: grafana-core
        readinessProbe:
          failureThreshold: 3
          httpGet:
            path: /login
            port: 3000
            scheme: HTTP
          periodSeconds: 10
          successThreshold: 1
          timeoutSeconds: 1
        resources:
          limits:
            cpu: 100m
            memory: 100Mi
          requests:
            cpu: 100m
            memory: 100Mi
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /var/lib/grafana
          name: grafana-persistent-storage
      dnsPolicy: ClusterFirst
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 30
      volumes:
      - emptyDir: {}
        name: grafana-persistent-storage
---
apiVersion: v1
data:
  grafana-net-2-dashboard.json: |
    {
      "__inputs": [{
        "name": "DS_PROMETHEUS",
        "label": "Prometheus",
        "description": "",
        "type": "datasource",
        "pluginId": "prometheus",
        "pluginName": "Prometheus"
      }],
      "__requires": [{
        "type": "panel",
        "id": "singlestat",
        "name": "Singlestat",
        "version": ""
      }, {
        "type": "panel",
        "id": "text",
        "name": "Text",
        "version": ""
      }, {
        "type": "panel",
        "id": "graph",
        "name": "Graph",
        "version": ""
      }, {
        "type": "grafana",
        "id": "grafana",
        "name": "Grafana",
        "version": "3.1.0"
      }, {
        "type": "datasource",
        "id": "prometheus",
        "name": "Prometheus",
        "version": "1.0.0"
      }],
      "id": null,
      "title": "Prometheus Stats",
      "tags": [],
      "style": "dark",
      "timezone": "browser",
      "editable": true,
      "hideControls": true,
      "sharedCrosshair": false,
      "rows": [{
        "collapse": false,
        "editable": true,
        "height": 178,
        "panels": [{
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": ["rgba(245, 54, 54, 0.9)", "rgba(237, 129, 40, 0.89)", "rgba(50, 172, 45, 0.97)"],
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 1,
          "editable": true,
          "error": false,
          "format": "s",
          "id": 5,
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "span": 3,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "targets": [{
            "expr": "(time() - process_start_time_seconds{job=\"prometheus\"})",
            "intervalFactor": 2,
            "refId": "A",
            "step": 4
          }],
          "thresholds": "",
          "title": "Uptime",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [{
            "op": "=",
            "text": "N/A",
            "value": "null"
          }],
          "valueName": "current",
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "rangeMaps": [{
            "from": "null",
            "to": "null",
            "text": "N/A"
          }],
          "mappingType": 1,
          "gauge": {
            "show": false,
            "minValue": 0,
            "maxValue": 100,
            "thresholdMarkers": true,
            "thresholdLabels": false
          }
        }, {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": ["rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)"],
          "datasource": "${DS_PROMETHEUS}",
          "editable": true,
          "error": false,
          "format": "none",
          "id": 6,
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "span": 3,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": true
          },
          "targets": [{
            "expr": "prometheus_local_storage_memory_series",
            "intervalFactor": 2,
            "refId": "A",
            "step": 4
          }],
          "thresholds": "1,5",
          "title": "Local Storage Memory Series",
          "type": "singlestat",
          "valueFontSize": "70%",
          "valueMaps": [],
          "valueName": "current",
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "rangeMaps": [{
            "from": "null",
            "to": "null",
            "text": "N/A"
          }],
          "mappingType": 1,
          "gauge": {
            "show": false,
            "minValue": 0,
            "maxValue": 100,
            "thresholdMarkers": true,
            "thresholdLabels": false
          }
        }, {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": true,
          "colors": ["rgba(50, 172, 45, 0.97)", "rgba(237, 129, 40, 0.89)", "rgba(245, 54, 54, 0.9)"],
          "datasource": "${DS_PROMETHEUS}",
          "editable": true,
          "error": false,
          "format": "none",
          "id": 7,
          "interval": null,
          "links": [],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "span": 3,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": true
          },
          "targets": [{
            "expr": "prometheus_local_storage_indexing_queue_length",
            "intervalFactor": 2,
            "refId": "A",
            "step": 4
          }],
          "thresholds": "500,4000",
          "title": "Internal Storage Queue Length",
          "type": "singlestat",
          "valueFontSize": "70%",
          "valueMaps": [{
            "op": "=",
            "text": "Empty",
            "value": "0"
          }],
          "valueName": "current",
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "rangeMaps": [{
            "from": "null",
            "to": "null",
            "text": "N/A"
          }],
          "mappingType": 1,
          "gauge": {
            "show": false,
            "minValue": 0,
            "maxValue": 100,
            "thresholdMarkers": true,
            "thresholdLabels": false
          }
        }, {
          "content": "<img src=\"http://prometheus.io/assets/prometheus_logo_grey.svg\" alt=\"Prometheus logo\" style=\"height: 40px;\">\n<span style=\"font-family: 'Open Sans', 'Helvetica Neue', Helvetica; font-size: 25px;vertical-align: text-top;color: #bbbfc2;margin-left: 10px;\">Prometheus</span>\n\n<p style=\"margin-top: 10px;\">You're using Prometheus, an open-source systems monitoring and alerting toolkit originally built at SoundCloud. For more information, check out the <a href=\"http://www.grafana.org/\">Grafana</a> and <a href=\"http://prometheus.io/\">Prometheus</a> projects.</p>",
          "editable": true,
          "error": false,
          "id": 9,
          "links": [],
          "mode": "html",
          "span": 3,
          "style": {},
          "title": "",
          "transparent": true,
          "type": "text"
        }],
        "title": "New row"
      }, {
        "collapse": false,
        "editable": true,
        "height": 227,
        "panels": [{
          "aliasColors": {
            "prometheus": "#C15C17",
            "{instance=\"localhost:9090\",job=\"prometheus\"}": "#C15C17"
          },
          "bars": false,
          "datasource": "${DS_PROMETHEUS}",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "id": 3,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 9,
          "stack": false,
          "steppedLine": false,
          "targets": [{
            "expr": "rate(prometheus_local_storage_ingested_samples_total[5m])",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "{{job}}",
            "metric": "",
            "refId": "A",
            "step": 2
          }],
          "timeFrom": null,
          "timeShift": null,
          "title": "Samples ingested (rate-5m)",
          "tooltip": {
            "shared": true,
            "value_type": "cumulative",
            "ordering": "alphabetical",
            "msResolution": false
          },
          "type": "graph",
          "yaxes": [{
            "show": true,
            "min": null,
            "max": null,
            "logBase": 1,
            "format": "short"
          }, {
            "show": true,
            "min": null,
            "max": null,
            "logBase": 1,
            "format": "short"
          }],
          "xaxis": {
            "show": true
          }
        }, {
          "content": "#### Samples Ingested\nThis graph displays the count of samples ingested by the Prometheus server, as measured over the last 5 minutes, per time series in the range vector. When troubleshooting an issue on IRC or Github, this is often the first stat requested by the Prometheus team. ",
          "editable": true,
          "error": false,
          "id": 8,
          "links": [],
          "mode": "markdown",
          "span": 2.995914043583536,
          "style": {},
          "title": "",
          "transparent": true,
          "type": "text"
        }],
        "title": "New row"
      }, {
        "collapse": false,
        "editable": true,
        "height": "250px",
        "panels": [{
          "aliasColors": {
            "prometheus": "#F9BA8F",
            "{instance=\"localhost:9090\",interval=\"5s\",job=\"prometheus\"}": "#F9BA8F"
          },
          "bars": false,
          "datasource": "${DS_PROMETHEUS}",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "id": 2,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 5,
          "stack": false,
          "steppedLine": false,
          "targets": [{
            "expr": "rate(prometheus_target_interval_length_seconds_count[5m])",
            "intervalFactor": 2,
            "legendFormat": "{{job}}",
            "refId": "A",
            "step": 2
          }],
          "timeFrom": null,
          "timeShift": null,
          "title": "Target Scrapes (last 5m)",
          "tooltip": {
            "shared": true,
            "value_type": "cumulative",
            "ordering": "alphabetical",
            "msResolution": false
          },
          "type": "graph",
          "yaxes": [{
            "show": true,
            "min": null,
            "max": null,
            "logBase": 1,
            "format": "short"
          }, {
            "show": true,
            "min": null,
            "max": null,
            "logBase": 1,
            "format": "short"
          }],
          "xaxis": {
            "show": true
          }
        }, {
          "aliasColors": {},
          "bars": false,
          "datasource": "${DS_PROMETHEUS}",
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "id": 14,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 4,
          "stack": false,
          "steppedLine": false,
          "targets": [{
            "expr": "prometheus_target_interval_length_seconds{quantile!=\"0.01\", quantile!=\"0.05\"}",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "{{quantile}} ({{interval}})",
            "metric": "",
            "refId": "A",
            "step": 2
          }],
          "timeFrom": null,
          "timeShift": null,
          "title": "Scrape Duration",
          "tooltip": {
            "shared": true,
            "value_type": "cumulative",
            "ordering": "alphabetical",
            "msResolution": false
          },
          "type": "graph",
          "yaxes": [{
            "show": true,
            "min": null,
            "max": null,
            "logBase": 1,
            "format": "short"
          }, {
            "show": true,
            "min": null,
            "max": null,
            "logBase": 1,
            "format": "short"
          }],
          "xaxis": {
            "show": true
          }
        }, {
          "content": "#### Scrapes\nPrometheus scrapes metrics from instrumented jobs, either directly or via an intermediary push gateway for short-lived jobs. Target scrapes will show how frequently targets are scraped, as measured over the last 5 minutes, per time series in the range vector. Scrape Duration will show how long the scrapes are taking, with percentiles available as series. ",
          "editable": true,
          "error": false,
          "id": 11,
          "links": [],
          "mode": "markdown",
          "span": 3,
          "style": {},
          "title": "",
          "transparent": true,
          "type": "text"
        }],
        "title": "New row"
      }, {
        "collapse": false,
        "editable": true,
        "height": "250px",
        "panels": [{
          "aliasColors": {},
          "bars": false,
          "datasource": "${DS_PROMETHEUS}",
          "decimals": null,
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "id": 12,
          "legend": {
            "alignAsTable": false,
            "avg": false,
            "current": false,
            "hideEmpty": true,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 9,
          "stack": false,
          "steppedLine": false,
          "targets": [{
            "expr": "prometheus_evaluator_duration_milliseconds{quantile!=\"0.01\", quantile!=\"0.05\"}",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "{{quantile}}",
            "refId": "A",
            "step": 2
          }],
          "timeFrom": null,
          "timeShift": null,
          "title": "Rule Eval Duration",
          "tooltip": {
            "shared": true,
            "value_type": "cumulative",
            "ordering": "alphabetical",
            "msResolution": false
          },
          "type": "graph",
          "yaxes": [{
            "show": true,
            "min": null,
            "max": null,
            "logBase": 1,
            "format": "percentunit",
            "label": ""
          }, {
            "show": true,
            "min": null,
            "max": null,
            "logBase": 1,
            "format": "short"
          }],
          "xaxis": {
            "show": true
          }
        }, {
          "content": "#### Rule Evaluation Duration\nThis graph panel plots the duration for all evaluations to execute. The 50th percentile, 90th percentile and 99th percentile are shown as three separate series to help identify outliers that may be skewing the data.",
          "editable": true,
          "error": false,
          "id": 15,
          "links": [],
          "mode": "markdown",
          "span": 3,
          "style": {},
          "title": "",
          "transparent": true,
          "type": "text"
        }],
        "title": "New row"
      }],
      "time": {
        "from": "now-5m",
        "to": "now"
      },
      "timepicker": {
        "now": true,
        "refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h", "2h", "1d"],
        "time_options": ["5m", "15m", "1h", "6h", "12h", "24h", "2d", "7d", "30d"]
      },
      "templating": {
        "list": []
      },
      "annotations": {
        "list": []
      },
      "refresh": false,
      "schemaVersion": 12,
      "version": 0,
      "links": [{
        "icon": "info",
        "tags": [],
        "targetBlank": true,
        "title": "Grafana Docs",
        "tooltip": "",
        "type": "link",
        "url": "http://www.grafana.org/docs"
      }, {
        "icon": "info",
        "tags": [],
        "targetBlank": true,
        "title": "Prometheus Docs",
        "type": "link",
        "url": "http://prometheus.io/docs/introduction/overview/"
      }],
      "gnetId": 2,
      "description": "The  official, pre-built Prometheus Stats Dashboard."
    }
  grafana-net-737-dashboard.json: |
    {
      "__inputs": [{
        "name": "DS_PROMETHEUS",
        "label": "prometheus",
        "description": "",
        "type": "datasource",
        "pluginId": "prometheus",
        "pluginName": "Prometheus"
      }],
      "__requires": [{
        "type": "panel",
        "id": "singlestat",
        "name": "Singlestat",
        "version": ""
      }, {
        "type": "panel",
        "id": "graph",
        "name": "Graph",
        "version": ""
      }, {
        "type": "grafana",
        "id": "grafana",
        "name": "Grafana",
        "version": "3.1.0"
      }, {
        "type": "datasource",
        "id": "prometheus",
        "name": "Prometheus",
        "version": "1.0.0"
      }],
      "id": null,
      "title": "Kubernetes Pod Resources",
      "description": "Shows resource usage of Kubernetes pods.",
      "tags": [
        "kubernetes"
      ],
      "style": "dark",
      "timezone": "browser",
      "editable": true,
      "hideControls": false,
      "sharedCrosshair": false,
      "rows": [{
        "collapse": false,
        "editable": true,
        "height": "250px",
        "panels": [{
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": true,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "datasource": "${DS_PROMETHEUS}",
          "editable": true,
          "error": false,
          "format": "percent",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": true,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "height": "180px",
          "id": 4,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [{
            "from": "null",
            "text": "N/A",
            "to": "null"
          }],
          "span": 4,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "targets": [{
            "expr": "sum (container_memory_working_set_bytes{id=\"/\",instance=~\"^$instance$\"}) / sum (machine_memory_bytes{instance=~\"^$instance$\"}) * 100",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "",
            "refId": "A",
            "step": 2
          }],
          "thresholds": "65, 90",
          "timeFrom": "1m",
          "timeShift": null,
          "title": "Memory Working Set",
          "transparent": false,
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [{
            "op": "=",
            "text": "N/A",
            "value": "null"
          }],
          "valueName": "current"
        }, {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": true,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "format": "percent",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": true,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "height": "180px",
          "id": 6,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [{
            "from": "null",
            "text": "N/A",
            "to": "null"
          }],
          "span": 4,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "targets": [{
            "expr": "sum(rate(container_cpu_usage_seconds_total{id=\"/\",instance=~\"^$instance$\"}[1m])) / sum (machine_cpu_cores{instance=~\"^$instance$\"}) * 100",
            "interval": "10s",
            "intervalFactor": 1,
            "refId": "A",
            "step": 10
          }],
          "thresholds": "65, 90",
          "timeFrom": "1m",
          "timeShift": null,
          "title": "Cpu Usage",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [{
            "op": "=",
            "text": "N/A",
            "value": "null"
          }],
          "valueName": "current"
        }, {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": true,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "format": "percent",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": true,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "height": "180px",
          "id": 7,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [{
            "from": "null",
            "text": "N/A",
            "to": "null"
          }],
          "span": 4,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "targets": [{
            "expr": "sum(container_fs_usage_bytes{id=\"/\",instance=~\"^$instance$\"}) / sum(container_fs_limit_bytes{id=\"/\",instance=~\"^$instance$\"}) * 100",
            "interval": "10s",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 10
          }],
          "thresholds": "65, 90",
          "timeFrom": "1m",
          "timeShift": null,
          "title": "Filesystem Usage",
          "type": "singlestat",
          "valueFontSize": "80%",
          "valueMaps": [{
            "op": "=",
            "text": "N/A",
            "value": "null"
          }],
          "valueName": "current"
        }, {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "format": "bytes",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "height": "1px",
          "hideTimeOverride": true,
          "id": 9,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "20%",
          "prefix": "",
          "prefixFontSize": "20%",
          "rangeMaps": [{
            "from": "null",
            "text": "N/A",
            "to": "null"
          }],
          "span": 2,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "targets": [{
            "expr": "sum(container_memory_working_set_bytes{id=\"/\",instance=~\"^$instance$\"})",
            "interval": "10s",
            "intervalFactor": 1,
            "refId": "A",
            "step": 10
          }],
          "thresholds": "",
          "timeFrom": "1m",
          "title": "Used",
          "type": "singlestat",
          "valueFontSize": "50%",
          "valueMaps": [{
            "op": "=",
            "text": "N/A",
            "value": "null"
          }],
          "valueName": "current"
        }, {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "format": "bytes",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "height": "1px",
          "hideTimeOverride": true,
          "id": 10,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [{
            "from": "null",
            "text": "N/A",
            "to": "null"
          }],
          "span": 2,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "targets": [{
            "expr": "sum (machine_memory_bytes{instance=~\"^$instance$\"})",
            "interval": "10s",
            "intervalFactor": 1,
            "refId": "A",
            "step": 10
          }],
          "thresholds": "",
          "timeFrom": "1m",
          "title": "Total",
          "type": "singlestat",
          "valueFontSize": "50%",
          "valueMaps": [{
            "op": "=",
            "text": "N/A",
            "value": "null"
          }],
          "valueName": "current"
        }, {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "format": "none",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "height": "1px",
          "hideTimeOverride": true,
          "id": 11,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": " cores",
          "postfixFontSize": "30%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [{
            "from": "null",
            "text": "N/A",
            "to": "null"
          }],
          "span": 2,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "targets": [{
            "expr": "sum (rate (container_cpu_usage_seconds_total{id=\"/\",instance=~\"^$instance$\"}[1m]))",
            "interval": "10s",
            "intervalFactor": 1,
            "refId": "A",
            "step": 10
          }],
          "thresholds": "",
          "timeFrom": "1m",
          "timeShift": null,
          "title": "Used",
          "type": "singlestat",
          "valueFontSize": "50%",
          "valueMaps": [{
            "op": "=",
            "text": "N/A",
            "value": "null"
          }],
          "valueName": "current"
        }, {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "format": "none",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "height": "1px",
          "hideTimeOverride": true,
          "id": 12,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": " cores",
          "postfixFontSize": "30%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [{
            "from": "null",
            "text": "N/A",
            "to": "null"
          }],
          "span": 2,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "targets": [{
            "expr": "sum (machine_cpu_cores{instance=~\"^$instance$\"})",
            "interval": "10s",
            "intervalFactor": 1,
            "refId": "A",
            "step": 10
          }],
          "thresholds": "",
          "timeFrom": "1m",
          "title": "Total",
          "type": "singlestat",
          "valueFontSize": "50%",
          "valueMaps": [{
            "op": "=",
            "text": "N/A",
            "value": "null"
          }],
          "valueName": "current"
        }, {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "format": "bytes",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "height": "1px",
          "hideTimeOverride": true,
          "id": 13,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [{
            "from": "null",
            "text": "N/A",
            "to": "null"
          }],
          "span": 2,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "targets": [{
            "expr": "sum(container_fs_usage_bytes{id=\"/\",instance=~\"^$instance$\"})",
            "interval": "10s",
            "intervalFactor": 1,
            "refId": "A",
            "step": 10
          }],
          "thresholds": "",
          "timeFrom": "1m",
          "title": "Used",
          "type": "singlestat",
          "valueFontSize": "50%",
          "valueMaps": [{
            "op": "=",
            "text": "N/A",
            "value": "null"
          }],
          "valueName": "current"
        }, {
          "cacheTimeout": null,
          "colorBackground": false,
          "colorValue": false,
          "colors": [
            "rgba(50, 172, 45, 0.97)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(245, 54, 54, 0.9)"
          ],
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "format": "bytes",
          "gauge": {
            "maxValue": 100,
            "minValue": 0,
            "show": false,
            "thresholdLabels": false,
            "thresholdMarkers": true
          },
          "height": "1px",
          "hideTimeOverride": true,
          "id": 14,
          "interval": null,
          "isNew": true,
          "links": [],
          "mappingType": 1,
          "mappingTypes": [{
            "name": "value to text",
            "value": 1
          }, {
            "name": "range to text",
            "value": 2
          }],
          "maxDataPoints": 100,
          "nullPointMode": "connected",
          "nullText": null,
          "postfix": "",
          "postfixFontSize": "50%",
          "prefix": "",
          "prefixFontSize": "50%",
          "rangeMaps": [{
            "from": "null",
            "text": "N/A",
            "to": "null"
          }],
          "span": 2,
          "sparkline": {
            "fillColor": "rgba(31, 118, 189, 0.18)",
            "full": false,
            "lineColor": "rgb(31, 120, 193)",
            "show": false
          },
          "targets": [{
            "expr": "sum (container_fs_limit_bytes{id=\"/\",instance=~\"^$instance$\"})",
            "interval": "10s",
            "intervalFactor": 1,
            "refId": "A",
            "step": 10
          }],
          "thresholds": "",
          "timeFrom": "1m",
          "title": "Total",
          "type": "singlestat",
          "valueFontSize": "50%",
          "valueMaps": [{
            "op": "=",
            "text": "N/A",
            "value": "null"
          }],
          "valueName": "current"
        }, {
          "aliasColors": {},
          "bars": false,
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)",
            "thresholdLine": false
          },
          "height": "200px",
          "id": 32,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": 200,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 12,
          "stack": false,
          "steppedLine": false,
          "targets": [{
            "expr": "sum(rate(container_network_receive_bytes_total{instance=~\"^$instance$\",namespace=~\"^$namespace$\"}[1m]))",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "receive",
            "metric": "network",
            "refId": "A",
            "step": 240
          }, {
            "expr": "- sum(rate(container_network_transmit_bytes_total{instance=~\"^$instance$\",namespace=~\"^$namespace$\"}[1m]))",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "transmit",
            "metric": "network",
            "refId": "B",
            "step": 240
          }],
          "timeFrom": null,
          "timeShift": null,
          "title": "Network",
          "tooltip": {
            "msResolution": false,
            "shared": true,
            "sort": 0,
            "value_type": "cumulative"
          },
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "show": true
          },
          "yaxes": [{
            "format": "Bps",
            "label": "transmit / receive",
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          }, {
            "format": "Bps",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": false
          }]
        }],
        "showTitle": true,
        "title": "all pods"
      }, {
        "collapse": false,
        "editable": true,
        "height": "250px",
        "panels": [{
          "aliasColors": {},
          "bars": false,
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 3,
          "editable": true,
          "error": false,
          "fill": 0,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "height": "",
          "id": 17,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 12,
          "stack": false,
          "steppedLine": false,
          "targets": [{
            "expr": "sum(rate(container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\",kubernetes_io_hostname=~\"^$Node$\"}[1m])) by (pod_name)",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "{{ pod_name }}",
            "metric": "container_cpu",
            "refId": "A",
            "step": 240
          }],
          "timeFrom": null,
          "timeShift": null,
          "title": "Cpu Usage",
          "tooltip": {
            "msResolution": true,
            "shared": false,
            "sort": 2,
            "value_type": "cumulative"
          },
          "transparent": false,
          "type": "graph",
          "xaxis": {
            "show": true
          },
          "yaxes": [{
            "format": "none",
            "label": "cores",
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          }, {
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": false
          }]
        }, {
          "aliasColors": {},
          "bars": false,
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "fill": 0,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "id": 33,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": null,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 12,
          "stack": false,
          "steppedLine": false,
          "targets": [{
            "expr": "sum (container_memory_working_set_bytes{image!=\"\",name=~\"^k8s_.*\",instance=~\"^$instance$\",namespace=~\"^$namespace$\"}) by (pod_name)",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "{{ pod_name }}",
            "metric": "",
            "refId": "A",
            "step": 240
          }],
          "timeFrom": null,
          "timeShift": null,
          "title": "Memory Working Set",
          "tooltip": {
            "msResolution": false,
            "shared": false,
            "sort": 2,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "show": true
          },
          "yaxes": [{
            "format": "bytes",
            "label": "used",
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          }, {
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": false
          }]
        }, {
          "aliasColors": {},
          "bars": false,
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "id": 16,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": 200,
            "sort": "avg",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 12,
          "stack": false,
          "steppedLine": false,
          "targets": [{
            "expr": "sum (rate (container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\",instance=~\"^$instance$\",namespace=~\"^$namespace$\"}[1m])) by (pod_name)",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "{{ pod_name }} < in",
            "metric": "network",
            "refId": "A",
            "step": 240
          }, {
            "expr": "- sum (rate (container_network_transmit_bytes_total{image!=\"\",name=~\"^k8s_.*\",instance=~\"^$instance$\",namespace=~\"^$namespace$\"}[1m])) by (pod_name)",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "{{ pod_name }} > out",
            "metric": "network",
            "refId": "B",
            "step": 240
          }],
          "timeFrom": null,
          "timeShift": null,
          "title": "Network",
          "tooltip": {
            "msResolution": false,
            "shared": false,
            "sort": 2,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "show": true
          },
          "yaxes": [{
            "format": "Bps",
            "label": "transmit / receive",
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          }, {
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": false
          }]
        }, {
          "aliasColors": {},
          "bars": false,
          "datasource": "${DS_PROMETHEUS}",
          "decimals": 2,
          "editable": true,
          "error": false,
          "fill": 1,
          "grid": {
            "threshold1": null,
            "threshold1Color": "rgba(216, 200, 27, 0.27)",
            "threshold2": null,
            "threshold2Color": "rgba(234, 112, 112, 0.22)"
          },
          "id": 34,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": true,
            "current": true,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": 200,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "null",
          "percentage": false,
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "span": 12,
          "stack": false,
          "steppedLine": false,
          "targets": [{
            "expr": "sum(container_fs_usage_bytes{image!=\"\",name=~\"^k8s_.*\",instance=~\"^$instance$\",namespace=~\"^$namespace$\"}) by (pod_name)",
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "{{ pod_name }}",
            "metric": "network",
            "refId": "A",
            "step": 240
          }],
          "timeFrom": null,
          "timeShift": null,
          "title": "Filesystem",
          "tooltip": {
            "msResolution": false,
            "shared": false,
            "sort": 2,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "show": true
          },
          "yaxes": [{
            "format": "bytes",
            "label": "used",
            "logBase": 1,
            "max": null,
            "min": null,
            "show": true
          }, {
            "format": "short",
            "label": null,
            "logBase": 1,
            "max": null,
            "min": null,
            "show": false
          }]
        }],
        "showTitle": true,
        "title": "each pod"
      }],
      "time": {
        "from": "now-3d",
        "to": "now"
      },
      "timepicker": {
        "refresh_intervals": [
          "5s",
          "10s",
          "30s",
          "1m",
          "5m",
          "15m",
          "30m",
          "1h",
          "2h",
          "1d"
        ],
        "time_options": [
          "5m",
          "15m",
          "1h",
          "6h",
          "12h",
          "24h",
          "2d",
          "7d",
          "30d"
        ]
      },
      "templating": {
        "list": [{
          "allValue": ".*",
          "current": {},
          "datasource": "${DS_PROMETHEUS}",
          "hide": 0,
          "includeAll": true,
          "label": "Instance",
          "multi": false,
          "name": "instance",
          "options": [],
          "query": "label_values(instance)",
          "refresh": 1,
          "regex": "",
          "type": "query"
        }, {
          "current": {},
          "datasource": "${DS_PROMETHEUS}",
          "hide": 0,
          "includeAll": true,
          "label": "Namespace",
          "multi": true,
          "name": "namespace",
          "options": [],
          "query": "label_values(namespace)",
          "refresh": 1,
          "regex": "",
          "type": "query"
        }]
      },
      "annotations": {
        "list": []
      },
      "refresh": false,
      "schemaVersion": 12,
      "version": 8,
      "links": [],
      "gnetId": 737
    }
  prometheus-datasource.json: |
    {
      "name": "prometheus",
      "type": "prometheus",
      "url": "http://prometheus:9090",
      "access": "proxy",
      "basicAuth": false
    }
kind: ConfigMap
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","data":{"grafana-net-2-dashboard.json":"{\n  \"__inputs\": [{\n    \"name\": \"DS_PROMETHEUS\",\n    \"label\": \"Prometheus\",\n    \"description\": \"\",\n    \"type\": \"datasource\",\n    \"pluginId\": \"prometheus\",\n    \"pluginName\": \"Prometheus\"\n  }],\n  \"__requires\": [{\n    \"type\": \"panel\",\n    \"id\": \"singlestat\",\n    \"name\": \"Singlestat\",\n    \"version\": \"\"\n  }, {\n    \"type\": \"panel\",\n    \"id\": \"text\",\n    \"name\": \"Text\",\n    \"version\": \"\"\n  }, {\n    \"type\": \"panel\",\n    \"id\": \"graph\",\n    \"name\": \"Graph\",\n    \"version\": \"\"\n  }, {\n    \"type\": \"grafana\",\n    \"id\": \"grafana\",\n    \"name\": \"Grafana\",\n    \"version\": \"3.1.0\"\n  }, {\n    \"type\": \"datasource\",\n    \"id\": \"prometheus\",\n    \"name\": \"Prometheus\",\n    \"version\": \"1.0.0\"\n  }],\n  \"id\": null,\n  \"title\": \"Prometheus Stats\",\n  \"tags\": [],\n  \"style\": \"dark\",\n  \"timezone\": \"browser\",\n  \"editable\": true,\n  \"hideControls\": true,\n  \"sharedCrosshair\": false,\n  \"rows\": [{\n    \"collapse\": false,\n    \"editable\": true,\n    \"height\": 178,\n    \"panels\": [{\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n      \"colors\": [\"rgba(245, 54, 54, 0.9)\", \"rgba(237, 129, 40, 0.89)\", \"rgba(50, 172, 45, 0.97)\"],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 1,\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"s\",\n      \"id\": 5,\n      \"interval\": null,\n      \"links\": [],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"span\": 3,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": false\n      },\n      \"targets\": [{\n        \"expr\": \"(time() - process_start_time_seconds{job=\\\"prometheus\\\"})\",\n        \"intervalFactor\": 2,\n        \"refId\": \"A\",\n        \"step\": 4\n      }],\n      \"thresholds\": \"\",\n      \"title\": \"Uptime\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"N/A\",\n        \"value\": \"null\"\n      }],\n      \"valueName\": \"current\",\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"to\": \"null\",\n        \"text\": \"N/A\"\n      }],\n      \"mappingType\": 1,\n      \"gauge\": {\n        \"show\": false,\n        \"minValue\": 0,\n        \"maxValue\": 100,\n        \"thresholdMarkers\": true,\n        \"thresholdLabels\": false\n      }\n    }, {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n      \"colors\": [\"rgba(50, 172, 45, 0.97)\", \"rgba(237, 129, 40, 0.89)\", \"rgba(245, 54, 54, 0.9)\"],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"none\",\n      \"id\": 6,\n      \"interval\": null,\n      \"links\": [],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"span\": 3,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": true\n      },\n      \"targets\": [{\n        \"expr\": \"prometheus_local_storage_memory_series\",\n        \"intervalFactor\": 2,\n        \"refId\": \"A\",\n        \"step\": 4\n      }],\n      \"thresholds\": \"1,5\",\n      \"title\": \"Local Storage Memory Series\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"70%\",\n      \"valueMaps\": [],\n      \"valueName\": \"current\",\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"to\": \"null\",\n        \"text\": \"N/A\"\n      }],\n      \"mappingType\": 1,\n      \"gauge\": {\n        \"show\": false,\n        \"minValue\": 0,\n        \"maxValue\": 100,\n        \"thresholdMarkers\": true,\n        \"thresholdLabels\": false\n      }\n    }, {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": true,\n      \"colors\": [\"rgba(50, 172, 45, 0.97)\", \"rgba(237, 129, 40, 0.89)\", \"rgba(245, 54, 54, 0.9)\"],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"none\",\n      \"id\": 7,\n      \"interval\": null,\n      \"links\": [],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"span\": 3,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": true\n      },\n      \"targets\": [{\n        \"expr\": \"prometheus_local_storage_indexing_queue_length\",\n        \"intervalFactor\": 2,\n        \"refId\": \"A\",\n        \"step\": 4\n      }],\n      \"thresholds\": \"500,4000\",\n      \"title\": \"Internal Storage Queue Length\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"70%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"Empty\",\n        \"value\": \"0\"\n      }],\n      \"valueName\": \"current\",\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"to\": \"null\",\n        \"text\": \"N/A\"\n      }],\n      \"mappingType\": 1,\n      \"gauge\": {\n        \"show\": false,\n        \"minValue\": 0,\n        \"maxValue\": 100,\n        \"thresholdMarkers\": true,\n        \"thresholdLabels\": false\n      }\n    }, {\n      \"content\": \"\u003cimg src=\\\"http://prometheus.io/assets/prometheus_logo_grey.svg\\\" alt=\\\"Prometheus logo\\\" style=\\\"height: 40px;\\\"\u003e\\n\u003cspan style=\\\"font-family: 'Open Sans', 'Helvetica Neue', Helvetica; font-size: 25px;vertical-align: text-top;color: #bbbfc2;margin-left: 10px;\\\"\u003ePrometheus\u003c/span\u003e\\n\\n\u003cp style=\\\"margin-top: 10px;\\\"\u003eYou're using Prometheus, an open-source systems monitoring and alerting toolkit originally built at SoundCloud. For more information, check out the \u003ca href=\\\"http://www.grafana.org/\\\"\u003eGrafana\u003c/a\u003e and \u003ca href=\\\"http://prometheus.io/\\\"\u003ePrometheus\u003c/a\u003e projects.\u003c/p\u003e\",\n      \"editable\": true,\n      \"error\": false,\n      \"id\": 9,\n      \"links\": [],\n      \"mode\": \"html\",\n      \"span\": 3,\n      \"style\": {},\n      \"title\": \"\",\n      \"transparent\": true,\n      \"type\": \"text\"\n    }],\n    \"title\": \"New row\"\n  }, {\n    \"collapse\": false,\n    \"editable\": true,\n    \"height\": 227,\n    \"panels\": [{\n      \"aliasColors\": {\n        \"prometheus\": \"#C15C17\",\n        \"{instance=\\\"localhost:9090\\\",job=\\\"prometheus\\\"}\": \"#C15C17\"\n      },\n      \"bars\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {\n        \"threshold1\": null,\n        \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n        \"threshold2\": null,\n        \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n      },\n      \"id\": 3,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 2,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"span\": 9,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [{\n        \"expr\": \"rate(prometheus_local_storage_ingested_samples_total[5m])\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"{{job}}\",\n        \"metric\": \"\",\n        \"refId\": \"A\",\n        \"step\": 2\n      }],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Samples ingested (rate-5m)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"value_type\": \"cumulative\",\n        \"ordering\": \"alphabetical\",\n        \"msResolution\": false\n      },\n      \"type\": \"graph\",\n      \"yaxes\": [{\n        \"show\": true,\n        \"min\": null,\n        \"max\": null,\n        \"logBase\": 1,\n        \"format\": \"short\"\n      }, {\n        \"show\": true,\n        \"min\": null,\n        \"max\": null,\n        \"logBase\": 1,\n        \"format\": \"short\"\n      }],\n      \"xaxis\": {\n        \"show\": true\n      }\n    }, {\n      \"content\": \"#### Samples Ingested\\nThis graph displays the count of samples ingested by the Prometheus server, as measured over the last 5 minutes, per time series in the range vector. When troubleshooting an issue on IRC or Github, this is often the first stat requested by the Prometheus team. \",\n      \"editable\": true,\n      \"error\": false,\n      \"id\": 8,\n      \"links\": [],\n      \"mode\": \"markdown\",\n      \"span\": 2.995914043583536,\n      \"style\": {},\n      \"title\": \"\",\n      \"transparent\": true,\n      \"type\": \"text\"\n    }],\n    \"title\": \"New row\"\n  }, {\n    \"collapse\": false,\n    \"editable\": true,\n    \"height\": \"250px\",\n    \"panels\": [{\n      \"aliasColors\": {\n        \"prometheus\": \"#F9BA8F\",\n        \"{instance=\\\"localhost:9090\\\",interval=\\\"5s\\\",job=\\\"prometheus\\\"}\": \"#F9BA8F\"\n      },\n      \"bars\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {\n        \"threshold1\": null,\n        \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n        \"threshold2\": null,\n        \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n      },\n      \"id\": 2,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"span\": 5,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [{\n        \"expr\": \"rate(prometheus_target_interval_length_seconds_count[5m])\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"{{job}}\",\n        \"refId\": \"A\",\n        \"step\": 2\n      }],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Target Scrapes (last 5m)\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"value_type\": \"cumulative\",\n        \"ordering\": \"alphabetical\",\n        \"msResolution\": false\n      },\n      \"type\": \"graph\",\n      \"yaxes\": [{\n        \"show\": true,\n        \"min\": null,\n        \"max\": null,\n        \"logBase\": 1,\n        \"format\": \"short\"\n      }, {\n        \"show\": true,\n        \"min\": null,\n        \"max\": null,\n        \"logBase\": 1,\n        \"format\": \"short\"\n      }],\n      \"xaxis\": {\n        \"show\": true\n      }\n    }, {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {\n        \"threshold1\": null,\n        \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n        \"threshold2\": null,\n        \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n      },\n      \"id\": 14,\n      \"legend\": {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"span\": 4,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [{\n        \"expr\": \"prometheus_target_interval_length_seconds{quantile!=\\\"0.01\\\", quantile!=\\\"0.05\\\"}\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"{{quantile}} ({{interval}})\",\n        \"metric\": \"\",\n        \"refId\": \"A\",\n        \"step\": 2\n      }],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Scrape Duration\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"value_type\": \"cumulative\",\n        \"ordering\": \"alphabetical\",\n        \"msResolution\": false\n      },\n      \"type\": \"graph\",\n      \"yaxes\": [{\n        \"show\": true,\n        \"min\": null,\n        \"max\": null,\n        \"logBase\": 1,\n        \"format\": \"short\"\n      }, {\n        \"show\": true,\n        \"min\": null,\n        \"max\": null,\n        \"logBase\": 1,\n        \"format\": \"short\"\n      }],\n      \"xaxis\": {\n        \"show\": true\n      }\n    }, {\n      \"content\": \"#### Scrapes\\nPrometheus scrapes metrics from instrumented jobs, either directly or via an intermediary push gateway for short-lived jobs. Target scrapes will show how frequently targets are scraped, as measured over the last 5 minutes, per time series in the range vector. Scrape Duration will show how long the scrapes are taking, with percentiles available as series. \",\n      \"editable\": true,\n      \"error\": false,\n      \"id\": 11,\n      \"links\": [],\n      \"mode\": \"markdown\",\n      \"span\": 3,\n      \"style\": {},\n      \"title\": \"\",\n      \"transparent\": true,\n      \"type\": \"text\"\n    }],\n    \"title\": \"New row\"\n  }, {\n    \"collapse\": false,\n    \"editable\": true,\n    \"height\": \"250px\",\n    \"panels\": [{\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": null,\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {\n        \"threshold1\": null,\n        \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n        \"threshold2\": null,\n        \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n      },\n      \"id\": 12,\n      \"legend\": {\n        \"alignAsTable\": false,\n        \"avg\": false,\n        \"current\": false,\n        \"hideEmpty\": true,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"span\": 9,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [{\n        \"expr\": \"prometheus_evaluator_duration_milliseconds{quantile!=\\\"0.01\\\", quantile!=\\\"0.05\\\"}\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"{{quantile}}\",\n        \"refId\": \"A\",\n        \"step\": 2\n      }],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Rule Eval Duration\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"value_type\": \"cumulative\",\n        \"ordering\": \"alphabetical\",\n        \"msResolution\": false\n      },\n      \"type\": \"graph\",\n      \"yaxes\": [{\n        \"show\": true,\n        \"min\": null,\n        \"max\": null,\n        \"logBase\": 1,\n        \"format\": \"percentunit\",\n        \"label\": \"\"\n      }, {\n        \"show\": true,\n        \"min\": null,\n        \"max\": null,\n        \"logBase\": 1,\n        \"format\": \"short\"\n      }],\n      \"xaxis\": {\n        \"show\": true\n      }\n    }, {\n      \"content\": \"#### Rule Evaluation Duration\\nThis graph panel plots the duration for all evaluations to execute. The 50th percentile, 90th percentile and 99th percentile are shown as three separate series to help identify outliers that may be skewing the data.\",\n      \"editable\": true,\n      \"error\": false,\n      \"id\": 15,\n      \"links\": [],\n      \"mode\": \"markdown\",\n      \"span\": 3,\n      \"style\": {},\n      \"title\": \"\",\n      \"transparent\": true,\n      \"type\": \"text\"\n    }],\n    \"title\": \"New row\"\n  }],\n  \"time\": {\n    \"from\": \"now-5m\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"now\": true,\n    \"refresh_intervals\": [\"5s\", \"10s\", \"30s\", \"1m\", \"5m\", \"15m\", \"30m\", \"1h\", \"2h\", \"1d\"],\n    \"time_options\": [\"5m\", \"15m\", \"1h\", \"6h\", \"12h\", \"24h\", \"2d\", \"7d\", \"30d\"]\n  },\n  \"templating\": {\n    \"list\": []\n  },\n  \"annotations\": {\n    \"list\": []\n  },\n  \"refresh\": false,\n  \"schemaVersion\": 12,\n  \"version\": 0,\n  \"links\": [{\n    \"icon\": \"info\",\n    \"tags\": [],\n    \"targetBlank\": true,\n    \"title\": \"Grafana Docs\",\n    \"tooltip\": \"\",\n    \"type\": \"link\",\n    \"url\": \"http://www.grafana.org/docs\"\n  }, {\n    \"icon\": \"info\",\n    \"tags\": [],\n    \"targetBlank\": true,\n    \"title\": \"Prometheus Docs\",\n    \"type\": \"link\",\n    \"url\": \"http://prometheus.io/docs/introduction/overview/\"\n  }],\n  \"gnetId\": 2,\n  \"description\": \"The  official, pre-built Prometheus Stats Dashboard.\"\n}\n","grafana-net-737-dashboard.json":"{\n  \"__inputs\": [{\n    \"name\": \"DS_PROMETHEUS\",\n    \"label\": \"prometheus\",\n    \"description\": \"\",\n    \"type\": \"datasource\",\n    \"pluginId\": \"prometheus\",\n    \"pluginName\": \"Prometheus\"\n  }],\n  \"__requires\": [{\n    \"type\": \"panel\",\n    \"id\": \"singlestat\",\n    \"name\": \"Singlestat\",\n    \"version\": \"\"\n  }, {\n    \"type\": \"panel\",\n    \"id\": \"graph\",\n    \"name\": \"Graph\",\n    \"version\": \"\"\n  }, {\n    \"type\": \"grafana\",\n    \"id\": \"grafana\",\n    \"name\": \"Grafana\",\n    \"version\": \"3.1.0\"\n  }, {\n    \"type\": \"datasource\",\n    \"id\": \"prometheus\",\n    \"name\": \"Prometheus\",\n    \"version\": \"1.0.0\"\n  }],\n  \"id\": null,\n  \"title\": \"Kubernetes Pod Resources\",\n  \"description\": \"Shows resource usage of Kubernetes pods.\",\n  \"tags\": [\n    \"kubernetes\"\n  ],\n  \"style\": \"dark\",\n  \"timezone\": \"browser\",\n  \"editable\": true,\n  \"hideControls\": false,\n  \"sharedCrosshair\": false,\n  \"rows\": [{\n    \"collapse\": false,\n    \"editable\": true,\n    \"height\": \"250px\",\n    \"panels\": [{\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": true,\n      \"colors\": [\n        \"rgba(50, 172, 45, 0.97)\",\n        \"rgba(237, 129, 40, 0.89)\",\n        \"rgba(245, 54, 54, 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"percent\",\n      \"gauge\": {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": true,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n      \"height\": \"180px\",\n      \"id\": 4,\n      \"interval\": null,\n      \"isNew\": true,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"text\": \"N/A\",\n        \"to\": \"null\"\n      }],\n      \"span\": 4,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": false\n      },\n      \"targets\": [{\n        \"expr\": \"sum (container_memory_working_set_bytes{id=\\\"/\\\",instance=~\\\"^$instance$\\\"}) / sum (machine_memory_bytes{instance=~\\\"^$instance$\\\"}) * 100\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"\",\n        \"refId\": \"A\",\n        \"step\": 2\n      }],\n      \"thresholds\": \"65, 90\",\n      \"timeFrom\": \"1m\",\n      \"timeShift\": null,\n      \"title\": \"Memory Working Set\",\n      \"transparent\": false,\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"N/A\",\n        \"value\": \"null\"\n      }],\n      \"valueName\": \"current\"\n    }, {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": true,\n      \"colors\": [\n        \"rgba(50, 172, 45, 0.97)\",\n        \"rgba(237, 129, 40, 0.89)\",\n        \"rgba(245, 54, 54, 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"percent\",\n      \"gauge\": {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": true,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n      \"height\": \"180px\",\n      \"id\": 6,\n      \"interval\": null,\n      \"isNew\": true,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"text\": \"N/A\",\n        \"to\": \"null\"\n      }],\n      \"span\": 4,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": false\n      },\n      \"targets\": [{\n        \"expr\": \"sum(rate(container_cpu_usage_seconds_total{id=\\\"/\\\",instance=~\\\"^$instance$\\\"}[1m])) / sum (machine_cpu_cores{instance=~\\\"^$instance$\\\"}) * 100\",\n        \"interval\": \"10s\",\n        \"intervalFactor\": 1,\n        \"refId\": \"A\",\n        \"step\": 10\n      }],\n      \"thresholds\": \"65, 90\",\n      \"timeFrom\": \"1m\",\n      \"timeShift\": null,\n      \"title\": \"Cpu Usage\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"N/A\",\n        \"value\": \"null\"\n      }],\n      \"valueName\": \"current\"\n    }, {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": true,\n      \"colors\": [\n        \"rgba(50, 172, 45, 0.97)\",\n        \"rgba(237, 129, 40, 0.89)\",\n        \"rgba(245, 54, 54, 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"percent\",\n      \"gauge\": {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": true,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n      \"height\": \"180px\",\n      \"id\": 7,\n      \"interval\": null,\n      \"isNew\": true,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"text\": \"N/A\",\n        \"to\": \"null\"\n      }],\n      \"span\": 4,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": false\n      },\n      \"targets\": [{\n        \"expr\": \"sum(container_fs_usage_bytes{id=\\\"/\\\",instance=~\\\"^$instance$\\\"}) / sum(container_fs_limit_bytes{id=\\\"/\\\",instance=~\\\"^$instance$\\\"}) * 100\",\n        \"interval\": \"10s\",\n        \"intervalFactor\": 1,\n        \"legendFormat\": \"\",\n        \"metric\": \"\",\n        \"refId\": \"A\",\n        \"step\": 10\n      }],\n      \"thresholds\": \"65, 90\",\n      \"timeFrom\": \"1m\",\n      \"timeShift\": null,\n      \"title\": \"Filesystem Usage\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"N/A\",\n        \"value\": \"null\"\n      }],\n      \"valueName\": \"current\"\n    }, {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n      \"colors\": [\n        \"rgba(50, 172, 45, 0.97)\",\n        \"rgba(237, 129, 40, 0.89)\",\n        \"rgba(245, 54, 54, 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"bytes\",\n      \"gauge\": {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": false,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n      \"height\": \"1px\",\n      \"hideTimeOverride\": true,\n      \"id\": 9,\n      \"interval\": null,\n      \"isNew\": true,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"20%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"20%\",\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"text\": \"N/A\",\n        \"to\": \"null\"\n      }],\n      \"span\": 2,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": false\n      },\n      \"targets\": [{\n        \"expr\": \"sum(container_memory_working_set_bytes{id=\\\"/\\\",instance=~\\\"^$instance$\\\"})\",\n        \"interval\": \"10s\",\n        \"intervalFactor\": 1,\n        \"refId\": \"A\",\n        \"step\": 10\n      }],\n      \"thresholds\": \"\",\n      \"timeFrom\": \"1m\",\n      \"title\": \"Used\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"50%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"N/A\",\n        \"value\": \"null\"\n      }],\n      \"valueName\": \"current\"\n    }, {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n      \"colors\": [\n        \"rgba(50, 172, 45, 0.97)\",\n        \"rgba(237, 129, 40, 0.89)\",\n        \"rgba(245, 54, 54, 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"bytes\",\n      \"gauge\": {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": false,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n      \"height\": \"1px\",\n      \"hideTimeOverride\": true,\n      \"id\": 10,\n      \"interval\": null,\n      \"isNew\": true,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"text\": \"N/A\",\n        \"to\": \"null\"\n      }],\n      \"span\": 2,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": false\n      },\n      \"targets\": [{\n        \"expr\": \"sum (machine_memory_bytes{instance=~\\\"^$instance$\\\"})\",\n        \"interval\": \"10s\",\n        \"intervalFactor\": 1,\n        \"refId\": \"A\",\n        \"step\": 10\n      }],\n      \"thresholds\": \"\",\n      \"timeFrom\": \"1m\",\n      \"title\": \"Total\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"50%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"N/A\",\n        \"value\": \"null\"\n      }],\n      \"valueName\": \"current\"\n    }, {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n      \"colors\": [\n        \"rgba(50, 172, 45, 0.97)\",\n        \"rgba(237, 129, 40, 0.89)\",\n        \"rgba(245, 54, 54, 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"none\",\n      \"gauge\": {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": false,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n      \"height\": \"1px\",\n      \"hideTimeOverride\": true,\n      \"id\": 11,\n      \"interval\": null,\n      \"isNew\": true,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \" cores\",\n      \"postfixFontSize\": \"30%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"text\": \"N/A\",\n        \"to\": \"null\"\n      }],\n      \"span\": 2,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": false\n      },\n      \"targets\": [{\n        \"expr\": \"sum (rate (container_cpu_usage_seconds_total{id=\\\"/\\\",instance=~\\\"^$instance$\\\"}[1m]))\",\n        \"interval\": \"10s\",\n        \"intervalFactor\": 1,\n        \"refId\": \"A\",\n        \"step\": 10\n      }],\n      \"thresholds\": \"\",\n      \"timeFrom\": \"1m\",\n      \"timeShift\": null,\n      \"title\": \"Used\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"50%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"N/A\",\n        \"value\": \"null\"\n      }],\n      \"valueName\": \"current\"\n    }, {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n      \"colors\": [\n        \"rgba(50, 172, 45, 0.97)\",\n        \"rgba(237, 129, 40, 0.89)\",\n        \"rgba(245, 54, 54, 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"none\",\n      \"gauge\": {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": false,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n      \"height\": \"1px\",\n      \"hideTimeOverride\": true,\n      \"id\": 12,\n      \"interval\": null,\n      \"isNew\": true,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \" cores\",\n      \"postfixFontSize\": \"30%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"text\": \"N/A\",\n        \"to\": \"null\"\n      }],\n      \"span\": 2,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": false\n      },\n      \"targets\": [{\n        \"expr\": \"sum (machine_cpu_cores{instance=~\\\"^$instance$\\\"})\",\n        \"interval\": \"10s\",\n        \"intervalFactor\": 1,\n        \"refId\": \"A\",\n        \"step\": 10\n      }],\n      \"thresholds\": \"\",\n      \"timeFrom\": \"1m\",\n      \"title\": \"Total\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"50%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"N/A\",\n        \"value\": \"null\"\n      }],\n      \"valueName\": \"current\"\n    }, {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n      \"colors\": [\n        \"rgba(50, 172, 45, 0.97)\",\n        \"rgba(237, 129, 40, 0.89)\",\n        \"rgba(245, 54, 54, 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"bytes\",\n      \"gauge\": {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": false,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n      \"height\": \"1px\",\n      \"hideTimeOverride\": true,\n      \"id\": 13,\n      \"interval\": null,\n      \"isNew\": true,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"text\": \"N/A\",\n        \"to\": \"null\"\n      }],\n      \"span\": 2,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": false\n      },\n      \"targets\": [{\n        \"expr\": \"sum(container_fs_usage_bytes{id=\\\"/\\\",instance=~\\\"^$instance$\\\"})\",\n        \"interval\": \"10s\",\n        \"intervalFactor\": 1,\n        \"refId\": \"A\",\n        \"step\": 10\n      }],\n      \"thresholds\": \"\",\n      \"timeFrom\": \"1m\",\n      \"title\": \"Used\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"50%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"N/A\",\n        \"value\": \"null\"\n      }],\n      \"valueName\": \"current\"\n    }, {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n      \"colorValue\": false,\n      \"colors\": [\n        \"rgba(50, 172, 45, 0.97)\",\n        \"rgba(237, 129, 40, 0.89)\",\n        \"rgba(245, 54, 54, 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"format\": \"bytes\",\n      \"gauge\": {\n        \"maxValue\": 100,\n        \"minValue\": 0,\n        \"show\": false,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n      \"height\": \"1px\",\n      \"hideTimeOverride\": true,\n      \"id\": 14,\n      \"interval\": null,\n      \"isNew\": true,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [{\n        \"name\": \"value to text\",\n        \"value\": 1\n      }, {\n        \"name\": \"range to text\",\n        \"value\": 2\n      }],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [{\n        \"from\": \"null\",\n        \"text\": \"N/A\",\n        \"to\": \"null\"\n      }],\n      \"span\": 2,\n      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": false\n      },\n      \"targets\": [{\n        \"expr\": \"sum (container_fs_limit_bytes{id=\\\"/\\\",instance=~\\\"^$instance$\\\"})\",\n        \"interval\": \"10s\",\n        \"intervalFactor\": 1,\n        \"refId\": \"A\",\n        \"step\": 10\n      }],\n      \"thresholds\": \"\",\n      \"timeFrom\": \"1m\",\n      \"title\": \"Total\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"50%\",\n      \"valueMaps\": [{\n        \"op\": \"=\",\n        \"text\": \"N/A\",\n        \"value\": \"null\"\n      }],\n      \"valueName\": \"current\"\n    }, {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {\n        \"threshold1\": null,\n        \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n        \"threshold2\": null,\n        \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\",\n        \"thresholdLine\": false\n      },\n      \"height\": \"200px\",\n      \"id\": 32,\n      \"isNew\": true,\n      \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\": true,\n        \"max\": false,\n        \"min\": false,\n        \"rightSide\": true,\n        \"show\": true,\n        \"sideWidth\": 200,\n        \"sort\": \"current\",\n        \"sortDesc\": true,\n        \"total\": false,\n        \"values\": true\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"span\": 12,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [{\n        \"expr\": \"sum(rate(container_network_receive_bytes_total{instance=~\\\"^$instance$\\\",namespace=~\\\"^$namespace$\\\"}[1m]))\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"receive\",\n        \"metric\": \"network\",\n        \"refId\": \"A\",\n        \"step\": 240\n      }, {\n        \"expr\": \"- sum(rate(container_network_transmit_bytes_total{instance=~\\\"^$instance$\\\",namespace=~\\\"^$namespace$\\\"}[1m]))\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"transmit\",\n        \"metric\": \"network\",\n        \"refId\": \"B\",\n        \"step\": 240\n      }],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Network\",\n      \"tooltip\": {\n        \"msResolution\": false,\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"cumulative\"\n      },\n      \"transparent\": false,\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"show\": true\n      },\n      \"yaxes\": [{\n        \"format\": \"Bps\",\n        \"label\": \"transmit / receive\",\n        \"logBase\": 1,\n        \"max\": null,\n        \"min\": null,\n        \"show\": true\n      }, {\n        \"format\": \"Bps\",\n        \"label\": null,\n        \"logBase\": 1,\n        \"max\": null,\n        \"min\": null,\n        \"show\": false\n      }]\n    }],\n    \"showTitle\": true,\n    \"title\": \"all pods\"\n  }, {\n    \"collapse\": false,\n    \"editable\": true,\n    \"height\": \"250px\",\n    \"panels\": [{\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 3,\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"grid\": {\n        \"threshold1\": null,\n        \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n        \"threshold2\": null,\n        \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n      },\n      \"height\": \"\",\n      \"id\": 17,\n      \"isNew\": true,\n      \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\": true,\n        \"hideEmpty\": true,\n        \"hideZero\": true,\n        \"max\": false,\n        \"min\": false,\n        \"rightSide\": true,\n        \"show\": true,\n        \"sideWidth\": null,\n        \"sort\": \"current\",\n        \"sortDesc\": true,\n        \"total\": false,\n        \"values\": true\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"connected\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"span\": 12,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [{\n        \"expr\": \"sum(rate(container_cpu_usage_seconds_total{image!=\\\"\\\",name=~\\\"^k8s_.*\\\",kubernetes_io_hostname=~\\\"^$Node$\\\"}[1m])) by (pod_name)\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"{{ pod_name }}\",\n        \"metric\": \"container_cpu\",\n        \"refId\": \"A\",\n        \"step\": 240\n      }],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Cpu Usage\",\n      \"tooltip\": {\n        \"msResolution\": true,\n        \"shared\": false,\n        \"sort\": 2,\n        \"value_type\": \"cumulative\"\n      },\n      \"transparent\": false,\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"show\": true\n      },\n      \"yaxes\": [{\n        \"format\": \"none\",\n        \"label\": \"cores\",\n        \"logBase\": 1,\n        \"max\": null,\n        \"min\": null,\n        \"show\": true\n      }, {\n        \"format\": \"short\",\n        \"label\": null,\n        \"logBase\": 1,\n        \"max\": null,\n        \"min\": null,\n        \"show\": false\n      }]\n    }, {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 0,\n      \"grid\": {\n        \"threshold1\": null,\n        \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n        \"threshold2\": null,\n        \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n      },\n      \"id\": 33,\n      \"isNew\": true,\n      \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\": true,\n        \"hideEmpty\": true,\n        \"hideZero\": true,\n        \"max\": false,\n        \"min\": false,\n        \"rightSide\": true,\n        \"show\": true,\n        \"sideWidth\": null,\n        \"sort\": \"current\",\n        \"sortDesc\": true,\n        \"total\": false,\n        \"values\": true\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"span\": 12,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [{\n        \"expr\": \"sum (container_memory_working_set_bytes{image!=\\\"\\\",name=~\\\"^k8s_.*\\\",instance=~\\\"^$instance$\\\",namespace=~\\\"^$namespace$\\\"}) by (pod_name)\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"{{ pod_name }}\",\n        \"metric\": \"\",\n        \"refId\": \"A\",\n        \"step\": 240\n      }],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Memory Working Set\",\n      \"tooltip\": {\n        \"msResolution\": false,\n        \"shared\": false,\n        \"sort\": 2,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"show\": true\n      },\n      \"yaxes\": [{\n        \"format\": \"bytes\",\n        \"label\": \"used\",\n        \"logBase\": 1,\n        \"max\": null,\n        \"min\": null,\n        \"show\": true\n      }, {\n        \"format\": \"short\",\n        \"label\": null,\n        \"logBase\": 1,\n        \"max\": null,\n        \"min\": null,\n        \"show\": false\n      }]\n    }, {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {\n        \"threshold1\": null,\n        \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n        \"threshold2\": null,\n        \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n      },\n      \"id\": 16,\n      \"isNew\": true,\n      \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\": true,\n        \"hideEmpty\": true,\n        \"hideZero\": true,\n        \"max\": false,\n        \"min\": false,\n        \"rightSide\": true,\n        \"show\": true,\n        \"sideWidth\": 200,\n        \"sort\": \"avg\",\n        \"sortDesc\": true,\n        \"total\": false,\n        \"values\": true\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"span\": 12,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [{\n        \"expr\": \"sum (rate (container_network_receive_bytes_total{image!=\\\"\\\",name=~\\\"^k8s_.*\\\",instance=~\\\"^$instance$\\\",namespace=~\\\"^$namespace$\\\"}[1m])) by (pod_name)\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"{{ pod_name }} \u003c in\",\n        \"metric\": \"network\",\n        \"refId\": \"A\",\n        \"step\": 240\n      }, {\n        \"expr\": \"- sum (rate (container_network_transmit_bytes_total{image!=\\\"\\\",name=~\\\"^k8s_.*\\\",instance=~\\\"^$instance$\\\",namespace=~\\\"^$namespace$\\\"}[1m])) by (pod_name)\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"{{ pod_name }} \u003e out\",\n        \"metric\": \"network\",\n        \"refId\": \"B\",\n        \"step\": 240\n      }],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Network\",\n      \"tooltip\": {\n        \"msResolution\": false,\n        \"shared\": false,\n        \"sort\": 2,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"show\": true\n      },\n      \"yaxes\": [{\n        \"format\": \"Bps\",\n        \"label\": \"transmit / receive\",\n        \"logBase\": 1,\n        \"max\": null,\n        \"min\": null,\n        \"show\": true\n      }, {\n        \"format\": \"short\",\n        \"label\": null,\n        \"logBase\": 1,\n        \"max\": null,\n        \"min\": null,\n        \"show\": false\n      }]\n    }, {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"decimals\": 2,\n      \"editable\": true,\n      \"error\": false,\n      \"fill\": 1,\n      \"grid\": {\n        \"threshold1\": null,\n        \"threshold1Color\": \"rgba(216, 200, 27, 0.27)\",\n        \"threshold2\": null,\n        \"threshold2Color\": \"rgba(234, 112, 112, 0.22)\"\n      },\n      \"id\": 34,\n      \"isNew\": true,\n      \"legend\": {\n        \"alignAsTable\": true,\n        \"avg\": true,\n        \"current\": true,\n        \"hideEmpty\": true,\n        \"hideZero\": true,\n        \"max\": false,\n        \"min\": false,\n        \"rightSide\": true,\n        \"show\": true,\n        \"sideWidth\": 200,\n        \"sort\": \"current\",\n        \"sortDesc\": true,\n        \"total\": false,\n        \"values\": true\n      },\n      \"lines\": true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"span\": 12,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [{\n        \"expr\": \"sum(container_fs_usage_bytes{image!=\\\"\\\",name=~\\\"^k8s_.*\\\",instance=~\\\"^$instance$\\\",namespace=~\\\"^$namespace$\\\"}) by (pod_name)\",\n        \"interval\": \"\",\n        \"intervalFactor\": 2,\n        \"legendFormat\": \"{{ pod_name }}\",\n        \"metric\": \"network\",\n        \"refId\": \"A\",\n        \"step\": 240\n      }],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Filesystem\",\n      \"tooltip\": {\n        \"msResolution\": false,\n        \"shared\": false,\n        \"sort\": 2,\n        \"value_type\": \"cumulative\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"show\": true\n      },\n      \"yaxes\": [{\n        \"format\": \"bytes\",\n        \"label\": \"used\",\n        \"logBase\": 1,\n        \"max\": null,\n        \"min\": null,\n        \"show\": true\n      }, {\n        \"format\": \"short\",\n        \"label\": null,\n        \"logBase\": 1,\n        \"max\": null,\n        \"min\": null,\n        \"show\": false\n      }]\n    }],\n    \"showTitle\": true,\n    \"title\": \"each pod\"\n  }],\n  \"time\": {\n    \"from\": \"now-3d\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\",\n      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\",\n      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"templating\": {\n    \"list\": [{\n      \"allValue\": \".*\",\n      \"current\": {},\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"hide\": 0,\n      \"includeAll\": true,\n      \"label\": \"Instance\",\n      \"multi\": false,\n      \"name\": \"instance\",\n      \"options\": [],\n      \"query\": \"label_values(instance)\",\n      \"refresh\": 1,\n      \"regex\": \"\",\n      \"type\": \"query\"\n    }, {\n      \"current\": {},\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"hide\": 0,\n      \"includeAll\": true,\n      \"label\": \"Namespace\",\n      \"multi\": true,\n      \"name\": \"namespace\",\n      \"options\": [],\n      \"query\": \"label_values(namespace)\",\n      \"refresh\": 1,\n      \"regex\": \"\",\n      \"type\": \"query\"\n    }]\n  },\n  \"annotations\": {\n    \"list\": []\n  },\n  \"refresh\": false,\n  \"schemaVersion\": 12,\n  \"version\": 8,\n  \"links\": [],\n  \"gnetId\": 737\n}\n","prometheus-datasource.json":"{\n  \"name\": \"prometheus\",\n  \"type\": \"prometheus\",\n  \"url\": \"http://prometheus:9090\",\n  \"access\": \"proxy\",\n  \"basicAuth\": false\n}\n"},"kind":"ConfigMap","metadata":{"annotations":{},"creationTimestamp":null,"name":"grafana-import-dashboards","namespace":"monitoring"}}
  name: grafana-import-dashboards
  namespace: monitoring
---
apiVersion: v1
data:
  admin-password: YWRtaW4=
  admin-username: YWRtaW4=
kind: Secret
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"v1","data":{"admin-password":"YWRtaW4=","admin-username":"YWRtaW4="},"kind":"Secret","metadata":{"annotations":{},"name":"grafana","namespace":"monitoring"},"type":"Opaque"}
  name: grafana
  namespace: monitoring
type: Opaque
---
apiVersion: batch/v1
kind: Job
metadata:
  annotations:
    kubectl.kubernetes.io/last-applied-configuration: |
      {"apiVersion":"batch/v1","kind":"Job","metadata":{"annotations":{},"labels":{"app":"grafana","component":"import-dashboards"},"name":"grafana-import-dashboards","namespace":"monitoring"},"spec":{"template":{"metadata":{"labels":{"app":"grafana","component":"import-dashboards"},"name":"grafana-import-dashboards"},"spec":{"containers":[{"args":["for file in *-datasource.json ; do\n  if [ -e \"$file\" ] ; then\n    echo \"importing $file\" \u0026\u0026\n    curl --silent --fail --show-error \\\n      --request POST http://${GF_ADMIN_USER}:${GF_ADMIN_PASSWORD}@grafana:3000/api/datasources \\\n      --header \"Content-Type: application/json\" \\\n      --data-binary \"@$file\" ;\n    echo \"\" ;\n  fi\ndone ; for file in *-dashboard.json ; do\n  if [ -e \"$file\" ] ; then\n    echo \"importing $file\" \u0026\u0026\n    ( echo '{\"dashboard\":'; \\\n      cat \"$file\"; \\\n      echo ',\"overwrite\":true,\"inputs\":[{\"name\":\"DS_PROMETHEUS\",\"type\":\"datasource\",\"pluginId\":\"prometheus\",\"value\":\"prometheus\"}]}' ) \\\n    | jq -c '.' \\\n    | curl --silent --fail --show-error \\\n      --request POST http://${GF_ADMIN_USER}:${GF_ADMIN_PASSWORD}@grafana:3000/api/dashboards/import \\\n      --header \"Content-Type: application/json\" \\\n      --data-binary \"@-\" ;\n    echo \"\" ;\n  fi\ndone\n"],"command":["/bin/sh","-c"],"env":[{"name":"GF_ADMIN_USER","valueFrom":{"secretKeyRef":{"key":"admin-username","name":"grafana"}}},{"name":"GF_ADMIN_PASSWORD","valueFrom":{"secretKeyRef":{"key":"admin-password","name":"grafana"}}}],"image":"giantswarm/tiny-tools","name":"grafana-import-dashboards","volumeMounts":[{"mountPath":"/opt/grafana-import-dashboards","name":"config-volume"}],"workingDir":"/opt/grafana-import-dashboards"}],"initContainers":[{"args":["/bin/sh","-c","set -x; while [ $(curl -sw '%{http_code}' \"http://grafana:3000\" -o /dev/null) -ne 200]; do\n  echo '.'\n  sleep 15;\ndone\n"],"image":"giantswarm/tiny-tools","name":"wait-for-grafana"}],"restartPolicy":"Never","serviceAccountName":"prometheus-k8s","volumes":[{"configMap":{"name":"grafana-import-dashboards"},"name":"config-volume"}]}}}}
  labels:
    app: grafana
    component: import-dashboards
  name: grafana-import-dashboards
  namespace: monitoring
spec:
  backoffLimit: 6
  completions: 1
  parallelism: 1
  selector:
    matchLabels:
      controller-uid: 7bb6f9ef-1b55-11e9-84bd-08002777d310
  template:
    metadata:
      labels:
        app: grafana
        component: import-dashboards
        controller-uid: 7bb6f9ef-1b55-11e9-84bd-08002777d310
        job-name: grafana-import-dashboards
      name: grafana-import-dashboards
    spec:
      containers:
      - args:
        - |
          for file in *-datasource.json ; do
            if [ -e "$file" ] ; then
              echo "importing $file" &&
              curl --silent --fail --show-error \
                --request POST http://${GF_ADMIN_USER}:${GF_ADMIN_PASSWORD}@grafana:3000/api/datasources \
                --header "Content-Type: application/json" \
                --data-binary "@$file" ;
              echo "" ;
            fi
          done ; for file in *-dashboard.json ; do
            if [ -e "$file" ] ; then
              echo "importing $file" &&
              ( echo '{"dashboard":'; \
                cat "$file"; \
                echo ',"overwrite":true,"inputs":[{"name":"DS_PROMETHEUS","type":"datasource","pluginId":"prometheus","value":"prometheus"}]}' ) \
              | jq -c '.' \
              | curl --silent --fail --show-error \
                --request POST http://${GF_ADMIN_USER}:${GF_ADMIN_PASSWORD}@grafana:3000/api/dashboards/import \
                --header "Content-Type: application/json" \
                --data-binary "@-" ;
              echo "" ;
            fi
          done
        command:
        - /bin/sh
        - -c
        env:
        - name: GF_ADMIN_USER
          valueFrom:
            secretKeyRef:
              key: admin-username
              name: grafana
        - name: GF_ADMIN_PASSWORD
          valueFrom:
            secretKeyRef:
              key: admin-password
              name: grafana
        image: giantswarm/tiny-tools
        imagePullPolicy: Always
        name: grafana-import-dashboards
        resources: {}
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /opt/grafana-import-dashboards
          name: config-volume
        workingDir: /opt/grafana-import-dashboards
      dnsPolicy: ClusterFirst
      initContainers:
      - args:
        - /bin/sh
        - -c
        - |
          set -x; while [ $(curl -sw '%{http_code}' "http://grafana:3000" -o /dev/null) -ne 200]; do
            echo '.'
            sleep 15;
          done
        image: giantswarm/tiny-tools
        imagePullPolicy: Always
        name: wait-for-grafana
        resources: {}
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
      restartPolicy: Never
      schedulerName: default-scheduler
      securityContext: {}
      serviceAccount: prometheus-k8s
      serviceAccountName: prometheus-k8s
      terminationGracePeriodSeconds: 30
      volumes:
      - configMap:
          defaultMode: 420
          name: grafana-import-dashboards
        name: config-volume
